<!DOCTYPE html>
<html>
   <head>
      <script src="/socket.io/socket.io.js"></script>
      <script type ="text/javascript">

      var socketio = io.connect();
      socketio.on("message_to_client",function(data) {
         //Append an HR thematic break and the escaped HTML of the new message
         document.getElementById("chatlog").appendChild(document.createElement("hr"));
         document.getElementById("chatlog").appendChild(document.createTextNode(data['message']));
      });

      function sendMessage(){
         const nickname=document.getElementById("nickname").value;
         var msg = document.getElementById("message_input").value;
         socketio.emit("message_to_server", {message: nickname + " : " + msg});
      }

      </script>
   </head>
   <body>
      <!-- <div id="create-chat">
         <input type="text" id="chatroom_name">
         <button onclick="createRoom()">Create Room</button>
      </div> -->
      <div id="create-nickname">
         <input type="text" id="nickname">
         <button onclick="signOn()">Sign On</button>
      </div>
      <input type="text" id="message_input"/>
      <button onclick="sendMessage()">Send</button>
      <div id="chatlog"></div>
   </body>
</html>